{"last_node_id":85,"last_link_id":185,"nodes":[{"id":79,"type":"Exec Python Code Script","pos":[1575,15],"size":[495,795],"flags":{},"order":2,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":181,"shape":7,"localized_name":"image1"},{"name":"image2","type":"IMAGE","link":null,"shape":7,"localized_name":"image2"},{"name":"mask1","type":"MASK","link":183,"shape":7,"localized_name":"mask1"},{"name":"mask2","type":"MASK","link":null,"shape":7,"localized_name":"mask2"},{"name":"list1","type":"*","link":null,"shape":7,"localized_name":"list1"},{"name":"dict1","type":"*","link":null,"shape":7,"localized_name":"dict1"},{"name":"any1","type":"*","link":null,"shape":7,"localized_name":"any1"},{"name":"any2","type":"*","link":null,"shape":7,"localized_name":"any2"},{"name":"any3","type":"*","link":null,"shape":7,"localized_name":"any3"},{"name":"any4","type":"*","link":null,"shape":7,"localized_name":"any4"}],"outputs":[{"name":"image1","type":"*","links":[],"slot_index":0,"localized_name":"image1"},{"name":"image2","type":"*","links":[185],"slot_index":1,"localized_name":"image2"},{"name":"mask1","type":"*","links":null,"localized_name":"mask1"},{"name":"mask2","type":"*","links":null,"localized_name":"mask2"},{"name":"number1","type":"*","links":null,"localized_name":"number1"},{"name":"number2","type":"*","links":null,"localized_name":"number2"},{"name":"text1","type":"*","links":null,"localized_name":"text1"},{"name":"text2","type":"*","links":null,"localized_name":"text2"},{"name":"list1","type":"*","links":null,"localized_name":"list1"},{"name":"dict1","type":"*","links":null,"localized_name":"dict1"},{"name":"any1","type":"*","links":null,"localized_name":"any1"},{"name":"any2","type":"*","links":null,"localized_name":"any2"},{"name":"any3","type":"*","links":null,"localized_name":"any3"},{"name":"any4","type":"*","links":null,"localized_name":"any4"}],"properties":{},"widgets_values":["import torch\n\ndef subtract_mask_from_img(img, mask):\n    # RGBA minus A\n    if img.shape[3] == 4:\n        subtracted_alphas = torch.min(img[0][:, :, 3], mask[0])\n        return torch.cat(\n            (\n                img[0][:, :, :3],\n                subtracted_alphas.unsqueeze(2),\n            ),\n            dim=2,\n        ).unsqueeze(0)\n    # RGB minus A\n    else:\n        return torch.cat((img[0][:, :, :3], mask[0].unsqueeze(2)), dim=2).unsqueeze(\n            0\n        )\n        \n        \nimage2.to(subtract_mask_from_img(image1,mask1))",0,0,"hello","world",true,""]},{"id":84,"type":"LoadImage","pos":[1200,450],"size":[345,345],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":[183],"slot_index":1,"localized_name":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["rgba-alpha-layers-logos-H2271px_W3300px-png-1.png","image"]},{"id":83,"type":"LoadImage","pos":[1215,0],"size":[315,375],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[181],"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"localized_name":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["rgb-people-real-H2271px_W3300px-jpg-4.jpg","image"]},{"id":85,"type":"PreviewImage","pos":[2130,150],"size":[615,525],"flags":{},"order":3,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":185,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]}],"links":[[181,83,0,79,0,"IMAGE"],[183,84,1,79,2,"MASK"],[185,79,1,85,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.7050000000000001,"offset":[-586.8073394297176,328.4352948759393]},"node_versions":{"python-interpreter-node":"e25a59d2ccba26d29f0cd17246cac6e3e3008a35","comfy-core":"v0.3.10-33-g7da85fa"},"VHS_latentpreview":false,"VHS_latentpreviewrate":0},"version":0.4}